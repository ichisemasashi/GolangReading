# プログラムを実行すると、リクエストの前半部分は、
# 期待通り200ミリ秒に1回処理されていることが分かります。
% go run rate-limiting.go
request 1 2021-11-15 09:00:50.259459 +0900 JST m=+0.200302163
request 2 2021-11-15 09:00:50.459448 +0900 JST m=+0.400289967
request 3 2021-11-15 09:00:50.660523 +0900 JST m=+0.601363694
request 4 2021-11-15 09:00:50.860961 +0900 JST m=+0.801800046
request 5 2021-11-15 09:00:51.061417 +0900 JST m=+1.002254580
# リクエストの後半部分は、最初の3つはすぐに処理され、
# 残り2つはその後200ミリ秒ずつ遅れて実行されていることが
# 分かります。3つまではバーストを許容しているからです。
request 1 2021-11-15 09:00:51.061505 +0900 JST m=+1.002342361
request 2 2021-11-15 09:00:51.061521 +0900 JST m=+1.002358945
request 3 2021-11-15 09:00:51.061529 +0900 JST m=+1.002366953
request 4 2021-11-15 09:00:51.262315 +0900 JST m=+1.203150930
request 5 2021-11-15 09:00:51.461745 +0900 JST m=+1.402579693
